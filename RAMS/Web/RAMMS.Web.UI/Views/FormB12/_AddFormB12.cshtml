@model RAMMS.Web.UI.Models.FormB12Model;
@using RAMMS.Business.ServiceProvider;
@using RAMMS.DTO.RequestBO;
@inject RAMMS.Business.ServiceProvider.Interfaces.IDDLookUpService ddlService;
@inject RAMMS.Business.ServiceProvider.Interfaces.ISecurity security;
@{
    ViewBag.TabTitle = "APPENDIX B12";
    ViewData["Title"] = "APPENDIX B12";
    Layout = "~/Views/Shared/_PortalLayout.cshtml";

     string strRefId = string.Empty;
    if (Model != null)
    {
        strRefId = Model.FormB12Header.PkRefId;
    }
    var username = security.UserName;

    var today = DateTime.Today.ToString("yyyy-MM-dd");
}
<script type="text/javascript" src="~/js/FormB12.js" asp-append-version="true"></script>
<script type="text/javascript">
    //debugger;
    frmB12.HeaderData = @Html.Raw(RAMMS.Common.Utility.JSerialize(Model));
    frmB12.IsEdit = @(ViewBag.IsEdit ? "true" : "false");
    frmB12.IsAdd = @(ViewBag.IsAdd ? "true" : "false");

      $(document).ready(function () {
        //debugger;
        process.Init("frmB14", "@Model.FormB12Header.Status", @Model.FormB12Header.PkRefNo);
      });
</script>
<div class="row bg-white pt-4">
    <div class="w-100">
        <div class="body-header w-100">
            <div class="col-lg-12">
                <div class=" w-100 d-flex justify-content-center py-1">
                    <div class="form-group mb-0">
                        <label style="float:left; padding: .5rem .5rem 0 !important;">Reference No.</label>
                        <input id="txtFormB12RefNum" class="form-control" style="width:330px;" type="text" value="@strRefId" disabled="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-body mh-182 pt-4 pb-0">

    <div class="row">
        <div class="col-12 mt-2">
            <div class="row">
                @*<div class="form-group col-3">
                    <label for="Name_of_Crew_Supervisor">
                    Select RMU
                    </label>
                    <select id="ddlFrom" class="form-control">
                    <option value="2019">Select RMU</option>
                    <option value="2020">Miri</option>
                    <option value="2021">Batu Niah</option>
                    </select>
                    </div>*@
                <div class="form-group col-2">
                    <label>Select Year  </label>
                    @Html.DropDownListFor(m => m.FormB12Header.RevisionYear, (IEnumerable<SelectListItem>)ViewData["Year"], "Select Year", new { @Id = "formB12Year", @class = "form-control" })
                </div>
                <div class="form-group col-3">
                    <label> Select the Revision No. </label>
                    <input type="number" id="RevisionNo" disabled value="@Model.FormB12Header.RevisionNo" class="form-control">
                </div>
                <div class="form-group col-2">
                    <label>Date </label>
                    <input type="date" value="@today" class="form-control" id="date" readonly="readonly" />

                </div>
                <div class="form-group col-3">
                    <label>User Name </label>
                    <input type="text" id="UserName" disabled value="@username" class="form-control">

                </div>
                <div class="form-group col-lg-2 col-md-12 pt-xl-4 px-md-4 px-sm-4">
                    <button id="btnFindDetails" type="button" onclick="frmB12.FindDetails();" class="btn btn-sm btn-themebtn col-md-12 col-xl-12 col-lg-2 mr-lg-1 float-right"> Find Details </button>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="w-100 dt-tbl-section">

                        <div class="w-100 float-left position-relative">
                            <div class="grid-btns my-2">
                                @*<button type="button" class="btn btn-sm btn-themebtn"><span class="add-icon"></span> Add Form B13</button>*@
                            </div>
                            <div id="headerListGrid" class="w-100 dt-tbl-section">
                                <div class="main-container" id="container">
                                    <div id="content" class="table-responsive">
                                        <div class="dataTables_wrapper dt-bootstrap4 no-footer">
                                            @*<div class="top">
                                                <div class="dataTables_length">
                                                <label>Show <select name="FormDGridView_length" aria-controls="FormDGridView" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10 rows</option><option value="25">25 rows</option><option value="50">50 rows</option><option value="100">100 rows</option><option value="500">500 rows</option><option value="100000">All</option></select> entries</label>
                                                </div><div class="dataTables_paginate paging_simple_numbers" id="FormDGridView_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="FormDGridView_previous"><a href="#" aria-controls="FormDGridView" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="FormDGridView" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="FormDGridView" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="FormDGridView" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="FormDGridView" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="FormDGridView" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item disabled" id="FormDGridView_ellipsis"><a href="#" aria-controls="FormDGridView" data-dt-idx="6" tabindex="0" class="page-link">...</a></li><li class="paginate_button page-item "><a href="#" aria-controls="FormDGridView" data-dt-idx="7" tabindex="0" class="page-link">9</a></li><li class="paginate_button page-item next" id="FormDGridView_next"><a href="#" aria-controls="FormDGridView" data-dt-idx="8" tabindex="0" class="page-link">Next</a></li></ul></div>
                                                </div>*@
                                            <div id="FormDGridView_processing" class="dataTables_processing card" style="display: none;">Processing...</div><div class="dataTables_scroll">
                                                @*<div class="dataTables_scrollHead" style="overflow: hidden; position: relative; border: 0px; width: 100%;">
                                                    <div class="dataTables_scrollHeadInner" style="box-sizing: content-box; width: 1325.71px; padding-right: 0px;">
                                                    </div>
                                                    </div>*@
                                                <div class="dataTables_scrollBody" style="position: relative; overflow: auto; width: 100%; max-height: 100%;">



                                                    <div class="dataTables_scroll">
                                                        <div class="w-100 position-relative in-tbl-btns custom-tbl">

                                                            <table class="table w-100 nowrap dataTable no-footer" id="tblB12">
                                                                <thead style="background-color: #c8e1ff">
                                                                    <tr height="75" class="xl67" style='height:37.50pt;'>
                                                                        <th class="xl69">Features</th>
                                                                        <th class="xl70">Activity Code</th>
                                                                        <th class="xl70">Activity Name</th>
                                                                        <th class="xl71">Unit</th>
                                                                        <th class="xl71">RMU BATU NIAH</th>
                                                                        <th class="xl71">RMU MIRI</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td height="261" rowspan="9">Paved Carriageway</td>
                                                                        <td class="x01"><span id="spx0" style="display:none;"></span>1011</td>
                                                                        <td class="x02">POTHOLE REPAIR</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx1" style="display:none;"></span>1012</td>
                                                                        <td class="x02">COLD PATCH</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx2" style="display:none;"></span>3013</td>
                                                                        <td class="x02">PAVEMENT RESURFACING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx3" style="display:none;"></span>3014</td>
                                                                        <td class="x02">REGULATE EXISTING PAVEMENT FOR RESURFACING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx4" style="display:none;"></span>3015</td>
                                                                        <td class="x02">CRACK SEALING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx5" style="display:none;"></span>3016</td>
                                                                        <td class="x02">MICRO SURFACING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx6" style="display:none;"></span>3017</td>
                                                                        <td class="x02">CHIP SEALING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx7" style="display:none;"></span>3018</td>
                                                                        <td class="x02">SHALLOW PATCHING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx8" style="display:none;"></span>3019</td>
                                                                        <td class="x02">DEEP PATCHING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td rowspan="4">Unpaved Carraigeway</td>
                                                                        <td class="x01"><span id="spx9" style="display:none;"></span>1021</td>
                                                                        <td class="x02" x:str>PATCH UNPAVED ROADWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx10" style="display:none;"></span>3022</td>
                                                                        <td class="x02" x:str>RESHAPE UNPAVED ROADWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx11" style="display:none;"></span>3023</td>
                                                                        <td class="x02" x:str>REGRAVEL UNPAVED ROADWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01"><span id="spx12" style="display:none;"></span>3024</td>
                                                                        <td class="x02" x:str>GRADE AND ROLL UNPAVED ROADWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="xl74" height="145" rowspan="5">Drains</td>
                                                                        <td class="x01" x:num><span id="spx13" style="display:none;"></span>1041</td>
                                                                        <td class="x02" x:str>CLEAR DRAIN WATERWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx14" style="display:none;"></span>1042</td>
                                                                        <td class="x02" x:str>DRAIN GRASS CUTTING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx15" style="display:none;"></span>1043</td>
                                                                        <td class="x02" x:str>CLEAN DRAINS ON SLOPE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx16" style="display:none;"></span>4044</td>
                                                                        <td class="x02" x:str>REINSTATE SIDE DITCH (MOTORGRADER)</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx17" style="display:none;"></span>4045</td>
                                                                        <td class="x02" x:str>CLEAN, CLEAR, RESHAPE EARTH DRAIN BY EXCAVATOR</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td height="116" rowspan="4">Shoulder</td>
                                                                        <td class="x01" x:num><span id="spx18" style="display:none;"></span>1031</td>
                                                                        <td class="x02">PATCH UNPAVED SHOULDER</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx19" style="display:none;"></span>1032</td>
                                                                        <td class="x02">SHOULDER GRASS CUTTING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx20" style="display:none;"></span>4033</td>
                                                                        <td class="x02">RESHAPE UNPAVED SHOULDER</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx21" style="display:none;"></span>4034</td>
                                                                        <td class="x02">REPLENISH UNPAVED SHOULDER</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="xl80" height="58" rowspan="2" style='height:29.00pt;border-right:none;border-bottom:none;' x:str>Culverts</td>
                                                                        <td class="x01" x:num><span id="spx22" style="display:none;"></span>1051</td>
                                                                        <td class="x02">ROUTINE CULVERT MAINTENANCE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx23" style="display:none;"></span>6052</td>
                                                                        <td class="x02">CLEAR CULVERT WATERWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="xl76" height="87" rowspan="3" style='height:43.50pt;border-right:none;border-bottom:none;' x:str>Bridges</td>
                                                                        <td class="x01" x:num><span id="spx24" style="display:none;"></span>1061</td>
                                                                        <td class="x02">ROUTINE BRIDGE MAINTENANCE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx25" style="display:none;"></span>6062</td>
                                                                        <td class="x02">REPAIR TIMBER BRIDGE DECK</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx26" style="display:none;"></span>6063</td>
                                                                        <td class="x02">CLEAR BRIDGE WATERWAY</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="xl81" height="145" rowspan="5" style='height:72.50pt;border-right:none;border-bottom:none;' x:str>Road Furniture</td>
                                                                        <td class="x01" x:num><span id="spx27" style="display:none;"></span>1071</td>
                                                                        <td class="x02">MAINTAIN ROAD FURNITURE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx28" style="display:none;"></span>1072</td>
                                                                        <td class="x02">PAVEMENT PAINTING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx29" style="display:none;"></span>1073</td>
                                                                        <td class="x02">ROAD KERB PAINTING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx30" style="display:none;"></span>7074</td>
                                                                        <td class="x02">CENTERLINE THERMOPLASTIC MARKING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx31" style="display:none;"></span>7075</td>
                                                                        <td class="x02">EDGELINE THERMOPLASTIC MARKING</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="xl76" height="174" rowspan="6" style='height:87.00pt;border-right:none;border-bottom:none;' x:str>Ancilliary</td>
                                                                        <td class="x01" x:num><span id="spx32" style="display:none;"></span>9091</td>
                                                                        <td class="x02">OTHER ROAD MAINTENANCE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx33" style="display:none;"></span>9092</td>
                                                                        <td class="x02">CLEAR ROAD RESERVE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx34" style="display:none;"></span>9093</td>
                                                                        <td class="x02">NON-ROAD MAINTENANCE ACTIVITIES</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx35" style="display:none;"></span>9194</td>
                                                                        <td class="x02">EMERGENCY MAINTENANCE</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx36" style="display:none;"></span>9195</td>
                                                                        <td class="x02">STRUCTURE DISTRESS INVESTIGATION</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="x01" x:num><span id="spx37" style="display:none;"></span>9500</td>
                                                                        <td class="x02">PROVISION OF PROJECT VEHICLES</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
               @* @{
                    if (Model != null)
                    {
                        Html.RenderPartial("~/Views/Shared/_ProcessHistory.cshtml", new RAMMS.DTO.RequestBO.ProcessDTO
                {
                    Form = "FormB12",
                    RefId = Model.FormB12Header.PkRefNo,
                    Stage = Model.FormB12Header.Status
                });

                    }
                }*@
            </div>

        </div>
    </div>
</div>
<input type="hidden" id="pkRefNo" value="@Model.FormB12Header.PkRefNo" />
<input type="hidden" id="UserId" value="@security.UserID" />
<input type="hidden" id="UserName" value="@security.UserName" />
<div class="col-md-12 mb-2 float-right text-right custom-footer">
    <button type="button" class="btn btn-sm btn-outline-theme" onclick="frmB12.Cancel()">Close</button>
    <button type="button" class="btn btn-sm btn-themebtn" onclick="frmB12.Save(false,0)" finddetailsdep>Save</button>
    @*<button type="button" class="btn btn-sm btn-themebtn" finddetailsdep onclick="frmB14.Save(true,0)">Submit</button>*@
</div>



